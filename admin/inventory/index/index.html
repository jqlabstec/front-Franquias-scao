<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produtos</title>
  <link rel="stylesheet" href="../../../saidbar/saidebar.css" />
  <link rel="stylesheet" href="./index.css" />
  <script>window.SIDEBAR_ACTIVE = 'products-list';</script>
  <script src="../../../saidbar/saidebar.js" defer></script>
  <script src="./index.js" defer></script>
</head>
<body>
  <div class="app-layout">
    <aside id="sidebar-root"></aside>
    <div class="app-content">
      <main class="shell">

        <section class="card">
          <div class="card-head">
            <h1>üì¶ Produtos</h1>
            <a href="../products/create/index.html" class="btn-primary">+ Novo Produto</a>
          </div>

          <form id="filterForm" class="filters">
            <input type="text" id="q" placeholder="Buscar por nome, c√≥digo ou NCM..." />
            <button type="submit" class="btn-primary">üîç Buscar</button>
            <button type="button" id="clearBtn" class="btn-ghost">Limpar</button>
          </form>

          <div id="status" class="banner hidden"></div>

          <div class="table-wrap">
            <table class="tbl">
              <thead>
                <tr>
                  <th class="text-left">Produto</th>
                  <th>C√≥digo</th>
                  <th>Unidade</th>
                  <th>Estoque Atual</th>
                  <th>Estoque M√≠nimo</th>
                  <th>Custo Unit.</th>
                  <th>NCM</th>
                  <th>Atualizado</th>
                  <th>A√ß√µes</th>
                </tr>
              </thead>
              <tbody id="tbody">
                <tr><td colspan="9" class="muted">Carregando...</td></tr>
              </tbody>
            </table>
          </div>

          <div class="pagination">
            <button id="prevBtn" class="btn-ghost">‚Üê Anterior</button>
            <span id="pageInfo">-</span>
            <button id="nextBtn" class="btn-ghost">Pr√≥xima ‚Üí</button>
          </div>
        </section>

      </main>
    </div>
  </div>

  <!-- ‚úÖ MODAL DE EDI√á√ÉO -->
  <div id="editModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>‚úèÔ∏è Editar Produto</h2>
        <button id="closeModalBtn" class="btn-close">√ó</button>
      </div>

      <div class="modal-body">
        <input type="hidden" id="editProductId" />

        <div class="field">
          <label>Nome *</label>
          <input type="text" id="editName" required />
        </div>

        <div class="field">
          <label>C√≥digo *</label>
          <input type="text" id="editCode" required />
        </div>

        <div class="field">
          <label>Unidade de Medida *</label>
          <input type="text" id="editUnitOfMeasure" required />
        </div>

        <div class="field">
          <label>Custo Unit√°rio *</label>
          <input type="number" id="editCurrentCostPerUnit" step="0.0001" required />
        </div>

        <div class="field">
          <label>NCM</label>
          <input type="text" id="editNcm" />
        </div>

        <div class="field">
          <label>Estoque M√≠nimo</label>
          <input type="number" id="editMinQty" step="0.01" />
        </div>

        <div class="field">
          <label>Lead Time (dias)</label>
          <input type="number" id="editLeadTimeDays" />
        </div>

        <div class="field">
          <label>Consumo M√©dio Di√°rio</label>
          <input type="number" id="editAvgDailyUse" step="0.01" />
        </div>
      </div>

      <div class="modal-footer">
        <button id="cancelEditBtn" class="btn-ghost">Cancelar</button>
        <button id="saveProductBtn" class="btn-primary">üíæ Salvar</button>
      </div>
    </div>
  </div>

</body>
</html>